メニュー

起動・終了イベントと、そのトーク。
・ゴーストのメニュー画面
・選択肢の表示
・喋り間隔の変更
・文字入力する
　　名前を覚えてもらう

☆この辞書で扱う内容のメモ
行の先頭に「＿バルーン表示内容【タブ】呼び出すイベント名」とすると、選択肢が表示されます。
「＿バルーン表示内容」とだけ記述してもOKで、その場合、「呼び出すイベント名」は「バルーン表示内容」になります。
注意点として、「＿（現在時）時のトーク」と記述しても「＊（現在時）時のトーク」は呼び出されません。
イベント名は、括弧が展開されません。
その場合、「＿（現在時）時のトーク【タブ】時間トーク」と記述し、「＊時間トーク」と記述するようにします。

＊0つつかれ
：メニューを表示するよ。（更新後）
＞メインメニュー

＃本体側のキャラクターで、
＃当たり判定のない部分をダブルクリックした時のトークです。
＃OnMouseDoubleClickから呼ばれます。
＃このテンプレートでは、OnMouseDoubleClickはdic_Mouseにあります。

＃OnMouseDoubleClickが辞書のどこにも書いてない場合でも、
＃里々が自動的に補完して以下を呼び出してくれます。
＃「＊（キャラクター）（部位）つつかれ」
＃（キャラクター）は本体側は0、相方側は1。３人目以降がいれば、2〜。
＃（部位）は、シェルのsurfaces.txtで書いた当たり判定の名前。判定のない場所なら空っぽ。
＊メインメニュー
：してほしいことを選んでね。

＿◯何か話して
＿◯喋る頻度を変えて	喋る頻度変更
＿◯名前を覚えてくれる？	名前を教える
＿○話しかけたい	話しかける
＿◯なんでもないよ

＃＿○隣のゴーストにでんぱを送る
＃＿◯処理のテストをするよ【開発用】	SAORI処理テスト

＃選択肢かどうかはマウスを載せないと分からないので、
＃選択肢と分かるような記号を表示すると親切です。
＃「＊◯処理のテストをするよ」はdic_SAORItestにあります。
＃これらは開発時のテスト用です。
＃「隣のゴーストにでんぱを送る」「話しかける」はdic_Communicate.txtにあります。
＊◯何か話して
＞ランダムトーク

＃「＊ランダムトーク」はこのテンプレートでは、dic_Talkにあります。
＃使ってない場合、この内容を以下２文字に置き換えてください。
＃（）
＊喋る頻度変更
：どのくらいにする？
＿◯６０秒おき
＿◯１８０秒おき
＿◯３００秒おき
＿◯黙ってて
＿◯やっぱりやめる

＊◯６０秒おき
＄喋り間隔	６０秒
：変更したよ。
＞メインメニュー

＊◯１８０秒おき
＄喋り間隔	１８０秒
：変更したよ。
＞メインメニュー

＊◯３００秒おき
＄喋り間隔	３００秒
：変更したよ。
＞メインメニュー

＊◯黙ってて
＄喋り間隔	０秒
：うーわかったよ。
＞メインメニュー

＃喋り間隔に０秒を入れると、自分からランダムトークしなくなります。
＊◯やっぱりやめる
：喋る頻度はそのままにしたよ。
＞メインメニュー

＊名前を教える
：じゃあ、ここに名前をいれてね。
\![open,inputbox,ユーザ名]

＃\![open,inputbox,（入力内容を入れておく変数名）]で、文字入力のボックスを開きます。
＊ユーザ名を教えてもらった
：（ユーザ名）でいいのかな？
：今後、（ユーザ名）とお呼びします。

＃ユーザ名が入力して決定された時のトークです。
＃OnUserInputから呼ばれます。
＊ユーザ名を空打ちされた
：あれ、やっぱりやめるの？
：では、今まで通りの呼び方にしますね。

＃ユーザ名が空欄のまま決定された時のトークです。
＃OnUserInputから呼ばれます。
＊ユーザ名をタイムアウト
：えーっと、聞いてる？

＃ユーザ名の入力ボックスを開いたまま、タイムアウトした時のトークです。
＃OnUserInputから呼ばれます。
＊OnUserInput
＞（Ｒ０）をタイムアウト	（compare（バイト値,１）（Ｒ１）（バイト値,１）timeout）
＞（Ｒ０）を空打ちされた	（is_empty（バイト値,１）（Ｒ１））
＄（Ｒ０）	（Ｒ１）
＞（Ｒ０）を教えてもらった

＃処理が少し複雑なので、最初のうちは触らずコピーしておくだけでよいかもしれません。

＃条件式の（compare,（Ｒ１）,timeout）は、（Ｒ１）とtimeoutの文字列が一致したら成り立ちます。
＃文字入力ボックスは、一定時間でタイムアウトして閉じ、その時に（Ｒ１）にtimeoutという文字が入ります。
＃ユーザーが自分から「timeout」と入力した場合と区別が付きませんので、注意してください。
＃今回は、半角カンマも入力可能なので、キーボードから入力出来ない（バイト値,１）を使っています。
＃詳しくは→http://soliton.sub.jp/satori/index.php?%B4%D8%BF%F4#b92d8132

＃条件式の（is_empty（バイト値,１）（Ｒ１））は、（Ｒ１）が空っぽなら成り立ちます。

＃それ以外なら、変数に値が入ります。
＃例えば、\![open,inputbox,ユーザ名]で開いたなら、（Ｒ０）は「ユーザ名」、（Ｒ１）が入力内容です。
＃ここで入力完了後、（ユーザ名）とトークに書けば、（ユーザ名）はここで入力された内容に置き換わります。
＊OnUserInputCancel
＞（Ｒ０）を空打ちされた	（compare,（Ｒ１）,close）

＃文字入力ボックスをユーザーが閉じた時、呼び出されます。
＃閉じるボタンを押した時、（Ｒ１）にはcloseという文字が入っています。
＊◯なんでもないよ
：分かった。何かあったら呼んでね。

